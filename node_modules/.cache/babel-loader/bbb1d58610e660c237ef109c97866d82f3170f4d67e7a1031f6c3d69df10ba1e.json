{"ast":null,"code":"import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Chatbot=()=>{const[isOpen,setIsOpen]=useState(false);const[messages,setMessages]=useState([]);const[userInput,setUserInput]=useState(\"\");const toggleChatbot=()=>{setIsOpen(!isOpen);};const handleKeyPress=event=>{if(event.key===\"Enter\"){sendMessage();}};const sendMessage=async()=>{if(!userInput.trim())return;const userMessage={sender:\"user\",text:userInput};setMessages([...messages,userMessage,{sender:\"bot\",text:\"Typing...\"}]);setUserInput(\"\");try{const response=await fetch(\"/chatbot\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({message:userInput})});const data=await response.json();setMessages(prevMessages=>{return[...prevMessages.slice(0,-1),{sender:\"bot\",text:data.response}];});}catch(error){console.error(\"Error fetching chatbot response:\",error);}};const sendOption=option=>{setUserInput(option);sendMessage();};return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed bottom-4 right-4 flex flex-col items-end\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cursor-pointer p-4 bg-blue-500 text-white rounded-full shadow-lg\",onClick:toggleChatbot,children:\"\\uD83D\\uDCAC\"}),isOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-80 bg-white rounded-lg shadow-lg overflow-hidden mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-blue-500 text-white p-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"eAsha Health Assistant\"}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleChatbot,className:\"text-lg\",children:\"\\u2716\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-64 overflow-y-auto p-2 border-b\",children:messages.map((msg,index)=>/*#__PURE__*/_jsxs(\"div\",{className:`p-2 my-1 ${msg.sender===\"user\"?\"text-right\":\"text-left\"}`,children:[/*#__PURE__*/_jsxs(\"strong\",{children:[msg.sender===\"user\"?\"You\":\"Bot\",\":\"]}),\" \",msg.text]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-around p-2 border-b\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>sendOption(\"Doctor\"),className:\"p-2 bg-gray-200 rounded\",children:\"\\uD83E\\uDE7A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>sendOption(\"Medicine\"),className:\"p-2 bg-gray-200 rounded\",children:\"\\uD83D\\uDC8A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>sendOption(\"Appointment\"),className:\"p-2 bg-gray-200 rounded\",children:\"\\uD83D\\uDCC5\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex p-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"flex-grow p-2 border rounded\",placeholder:\"Ask me about health...\",value:userInput,onChange:e=>setUserInput(e.target.value),onKeyPress:handleKeyPress}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,className:\"ml-2 p-2 bg-blue-500 text-white rounded\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn-icons-png.flaticon.com/512/786/786205.png\",alt:\"Send\",width:\"20\"})})]})]})]});};export default Chatbot;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Chatbot","isOpen","setIsOpen","messages","setMessages","userInput","setUserInput","toggleChatbot","handleKeyPress","event","key","sendMessage","trim","userMessage","sender","text","response","fetch","method","headers","body","JSON","stringify","message","data","json","prevMessages","slice","error","console","sendOption","option","className","children","onClick","map","msg","index","type","placeholder","value","onChange","e","target","onKeyPress","src","alt","width"],"sources":["C:/Users/gmeer/Downloads/ai/eashaop/src/Components/Chatbot/Chatbot.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst Chatbot = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [messages, setMessages] = useState([]);\r\n  const [userInput, setUserInput] = useState(\"\");\r\n\r\n  const toggleChatbot = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  const handleKeyPress = (event) => {\r\n    if (event.key === \"Enter\") {\r\n      sendMessage();\r\n    }\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    if (!userInput.trim()) return;\r\n    \r\n    const userMessage = { sender: \"user\", text: userInput };\r\n    setMessages([...messages, userMessage, { sender: \"bot\", text: \"Typing...\" }]);\r\n    setUserInput(\"\");\r\n    \r\n    try {\r\n      const response = await fetch(\"/chatbot\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ message: userInput })\r\n      });\r\n      const data = await response.json();\r\n      \r\n      setMessages((prevMessages) => {\r\n        return [...prevMessages.slice(0, -1), { sender: \"bot\", text: data.response }];\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error fetching chatbot response:\", error);\r\n    }\r\n  };\r\n\r\n  const sendOption = (option) => {\r\n    setUserInput(option);\r\n    sendMessage();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed bottom-4 right-4 flex flex-col items-end\">\r\n      <div\r\n        className=\"cursor-pointer p-4 bg-blue-500 text-white rounded-full shadow-lg\"\r\n        onClick={toggleChatbot}\r\n      >\r\n        ðŸ’¬\r\n      </div>\r\n      {isOpen && (\r\n        <div className=\"w-80 bg-white rounded-lg shadow-lg overflow-hidden mt-2\">\r\n          <div className=\"flex justify-between items-center bg-blue-500 text-white p-2\">\r\n            <span>eAsha Health Assistant</span>\r\n            <button onClick={toggleChatbot} className=\"text-lg\">âœ–</button>\r\n          </div>\r\n          <div className=\"h-64 overflow-y-auto p-2 border-b\">\r\n            {messages.map((msg, index) => (\r\n              <div key={index} className={`p-2 my-1 ${msg.sender === \"user\" ? \"text-right\" : \"text-left\"}`}>\r\n                <strong>{msg.sender === \"user\" ? \"You\" : \"Bot\"}:</strong> {msg.text}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"flex justify-around p-2 border-b\">\r\n            <button onClick={() => sendOption(\"Doctor\")} className=\"p-2 bg-gray-200 rounded\">ðŸ©º</button>\r\n            <button onClick={() => sendOption(\"Medicine\")} className=\"p-2 bg-gray-200 rounded\">ðŸ’Š</button>\r\n            <button onClick={() => sendOption(\"Appointment\")} className=\"p-2 bg-gray-200 rounded\">ðŸ“…</button>\r\n          </div>\r\n          <div className=\"flex p-2\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"flex-grow p-2 border rounded\"\r\n              placeholder=\"Ask me about health...\"\r\n              value={userInput}\r\n              onChange={(e) => setUserInput(e.target.value)}\r\n              onKeyPress={handleKeyPress}\r\n            />\r\n            <button onClick={sendMessage} className=\"ml-2 p-2 bg-blue-500 text-white rounded\">\r\n              <img src=\"https://cdn-icons-png.flaticon.com/512/786/786205.png\" alt=\"Send\" width=\"20\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chatbot;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}